sources:
  bolder:
    type: MVT
    url: http://localhost:8080/maps/bolder/{z}/{x}/{y}
    max_zoom: 15
scene:
  background:
    color: &land-color '#f7efe8' #lch(95,5,70)

styles:
  labels:
    base: text
    draw:
      priority: 900
      text_wrap: 7
      font:
        family: Noto Sans
        size: 14px
        fill: 'black'
        stroke:
          color: 'white'
          width: 1.75px
  linelabels:
    base: text
    draw:
      priority: 900
      text_wrap: false
      font:
        family: Noto Sans
        size: 14px
        fill: 'black'
        stroke:
          color: 'white'
          width: 1.75px
  road_names:
    base: text
    draw:
      font:
        family: Noto Sans
        size: 12px
        fill: 'black'
        stroke:
          color: 'white'
          width: 1px

layers:
  water:
    data: { source: bolder }
    draw:
      polygons:
        order: 2
        color: &water-color '#b1cae0' #lch(80,15,250)

  forests:
    data: { source: bolder }
    draw:
      polygons:
        order: 10
        #TODO: Alter for lz
        color: '#e4efd1' #lch(93,15,120)

  water_names:
    data: { source: bolder }
    draw:
      linelabels:
        font:
          fill: '#627a8f' #lch(50,15,250)

  buildings:
    data: { source: bolder }
    draw:
      polygons:
        order: 500
        color: '#dbd3cb' #lch(85,5,70)

  cities:
    data: { source: bolder }
    city:
      filter:
        place: [city]
        $zoom: { min: 8 }
      draw:
        labels:
          order: 700
          priority: 100
          font:
            size: [[8, 14px], [10, 17px], [12, 20px]]
    town:
      filter:
        place: [town]
        $zoom: { min: 9 }
      draw:
        labels:
          order: 700
          priority: 101
          font:
            size: [[8, 12px], [12, 17px], [14, 20px]]
    village:
      filter:
        place: [village]
        $zoom: { min: 12 }
      draw:
        labels:
          order: 700
          priority: 102
          font:
            size: [[12, 14px], [14, 17px], [15, 20px]]
  transport:
    data: { source: bolder }
    filter:
      $geometry: line
    rail:
      filter:
        railway: [rail, narrow_gauge, funicular]
        $zoom: { min: 9 }
      major:
        draw:
          lines:
            order: 310
            color: white
            dash_background_color: '#848484' #lch(55,0,0)
            dash: [6, 6]
            width: [[10, 0.4px], [12, 0.75px], [14, 1.3px], [16, 2.5px]]
            outline:
              color: '#848484' #lch(55,0,0)
              width: [[10, 0.3px], [12, 0.5px], [14, 1px], [16, 1.8px]]
      ssy:
        filter:
          service: [spur, siding, yard]
        draw:
          lines:
            dash_background_color: '#d4d4d4' #lch(85,0,0)
            outline:
              color: '#d4d4d4' #lch(85,0,0)

    motorway:
      filter:
        class: [motorway]
        $zoom: { min: 5 }
      draw:
        lines:
          order: 300
          color: '#f9b887' #lch(80,40,60)
          width: &motorway-width [[6,0.5px], [8, 1.5px], [12, 2.75px], [14, 4.5px], [16, 7px], [18, 11px], [20, 17px]]
          cap: round
          outline:
            color: '#e5995d' #lch(70,50,60)
            width: &motorway-casing-width [[8, 0px], [12, 1px], [14, 1.5px], [16, 2.5px], [18, 4px], [20, 6px]]
        labels:
          order: 800
          font:
            fill: black
    major:
      filter:
        class: [trunk, primary]
        $zoom: { min: 6 }
      road:
        draw:
          lines:
            order: 300
            color: '#fcd09b' #lch(85,35,70)
            width: *motorway-width
            cap: round
            outline:
              color: '#d2a167' #lch(70,40,70)
              width: *motorway-casing-width
      names:
        draw:
          road_names:
            priority:
            font:
              stroke:
                color: '#fcd09b' #lch(85,35,70)
    medium:
      filter:
        class: [secondary, tertiary]
        $zoom: { min: 9 }
      road:
        draw:
          lines:
            order: 300
            color: '#f4dfbd' #lch(90,20,80)
            width: *motorway-width
            cap: round
            outline:
              color: '#dbc398' #lch(80,25,80)
              width: *motorway-casing-width
      names:
        filter:
          - { class: secondary, $zoom: { min: 12 } }
          - { class: tertiary, $zoom: { min: 14 } }
        draw:
          road_names:
            priority: 90
            font:
              stroke:
                color: '#f4dfbd' #lch(90,20,80)
    minor:
      filter:
        class: [unclassified, residential]
        $zoom: { min: 12 }
      road:
        draw:
          lines:
            order: 300
            color: white
            width: *motorway-width
            cap: round
            outline:
              color: '#d4d4d4' #lch(85,0,0)
              width: *motorway-casing-width
      names:
        filter:
          - { class: unclassified, $zoom: { min: 12 } }
          - { class: residential, $zoom: { min: 14 } }
        draw:
          road_names:
            priority: 100
            font:
              size: 12px
              stroke:
                # When the labels appear the fill is fully white
                color: white
                width: 2.5px
